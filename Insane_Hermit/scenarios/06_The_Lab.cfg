#textdomain wesnoth-Insane_Hermit
[scenario]
    id=06_The_Lab
    name= _ "The Lab"
    map_data="{~campaigns/Insane_Hermit/maps/06_The_Lab.map}"
    {SCENARIO_MUSIC the_city_falls.ogg}
    {TURNS 30 35 40}

    {DUSK}

    next_scenario=07_Of_Time_And_Space

    [event]
        name=prestart
        [objectives]
            side=1
            [objective]
                description= _ "Resist until end of turns"
                condition=win
            [/objective]
            [objective]
                description= _ "Enemies breach balance symbol (the thing the insane hermit is in the middle of)"
                condition=lose
            [/objective]
            note= _ "Coordinate your units wisely, as they have a reduced spawn rate and the enemy isn't going to stop producing units."
        [/objectives]
    [/event]

    [side]
        type=Psychotic Mage x
        id=Insane Hermit
        name= _ "Insane Hermit"
        unrenamable=yes
        side=1
        canrecruit=yes
        team_name=Insane
        user_team_name=_"Insane"
        gold=0
        controller=human
    [/side]

    [side]
        type=Ancient Lich
        id="Mal-Ravannal"
        name= _ "Mal-Ravannal"
        side=2
        canrecruit=yes
        recruit=Draug,Banebow,Nightgaunt,Spectre,Death Knight,Deathblade
        team_name=Sane
        user_team_name=_"Sane"
        {GOLD 450 450 450}
        {INCOME 350 350 350}
        enemy=1
        [ai]
            recruitment_pattern=scout,fighter,fighter,archer
            {ATTACK_DEPTH 1 1 1}
            aggression=1-0=1.0
            simple_targeting=yes
            leader_value=25
            grouping=no
        [/ai]
    [/side]

    [side]
        type=General
        id="Frecyn"
        name= _ "Frecyn"
        side=3
        canrecruit=yes
        recruit=Royal Guard,Halberdier,Grand Knight,Paladin,Marksman,Master At Arms,Iron Mauler,Cavalier
        team_name=Sane
        user_team_name=_"Sane"
        {GOLD 450 450 450}
        {INCOME 350 350 350}
        enemy=1
        [ai]
            recruitment_pattern=scout,fighter,fighter,mixed fighter,fighter,fighter,archer,
            {ATTACK_DEPTH 1 1 1}
            aggression=1-0=1.0
            simple_targeting=yes
            leader_value=25
            grouping=no
        [/ai]
    [/side]

    [side]
        type=Dwarvish Lord
        id="Buran"
        name= _ "Buran"
        side=4
        canrecruit=yes
        recruit=Dwarvish Dragonguard,Dwarvish Lord,Dwarvish Berserker,Dwarvish Sentinel
        team_name=Sane
        user_team_name=_"Sane"
        {GOLD 450 450 450}
        {INCOME 350 350 350}
        enemy=1
        [ai]
            recruitment_pattern=archer,fighter,archer,fighter,fighter
            {ATTACK_DEPTH 1 1 1}
            aggression=1-0=1.0
            simple_targeting=yes
            leader_value=25
            grouping=no
        [/ai]
    [/side]

    [side]
        type=Elvish Marshal
        id="Elaged"
        name= _ "Elaged"
        side=5
        canrecruit=yes
        recruit=Elvish Sharpshooter,Elvish Avenger,Elvish Champion,Elvish Enchantress
        team_name=Sane
        user_team_name=_"Sane"
        {GOLD 450 450 450}
        {INCOME 350 350 350}
        enemy=1
        [ai]
            recruitment_pattern=fighter,mixed fighter,archer
            {ATTACK_DEPTH 1 1 1}
            aggression=1-0=1.0
            simple_targeting=yes
            leader_value=25
            grouping=no
        [/ai]
    [/side]

    [side]
        type=Orcish Sovereign
        id="Bruthart"
        name= _ "Bruthart"
        side=6
        canrecruit=yes
        recruit=Orcish Warlord,Orcish Slurbow,Direwolf Rider,Orcish Slayer
        team_name=Sane
        user_team_name=_"Sane"
        {GOLD 450 450 450}
        {INCOME 350 350 350}
        enemy=1
        [ai]
            recruitment_pattern=scout,fighter,mixed fighter,archer,
            {ATTACK_DEPTH 1 1 1}
            aggression=1-0=1.0
            simple_targeting=yes
            leader_value=25
            grouping=no
        [/ai]
    [/side]

    [event]
        name=start
        [unit]
            type=Arcane Titan
            side=1
            random_traits=no
            animate=no
            x=39
            y=26
            name=
            unrenamable=yes
        [/unit]
        [unit]
            type=Arcane Titan
            side=1
            random_traits=no
            animate=no
            x=43
            y=26
            name=
            unrenamable=yes
        [/unit]
        [unit]
            type=Arcane Titan
            side=1
            random_traits=no
            animate=no
            x=41
            y=27
            name=
            unrenamable=yes
        [/unit]
        [unit]
            type=Arcane Titan
            side=1
            random_traits=no
            animate=no
            x=39
            y=28
            name=
            unrenamable=yes
        [/unit]
        [unit]
            type=Arcane Titan
            side=1
            random_traits=no
            animate=no
            x=43
            y=28
            name=
            unrenamable=yes
        [/unit]
        [unit]
            type=Arcane Titan
            side=1
            random_traits=no
            animate=no
            x=37
            y=29
            name=
            unrenamable=yes
        [/unit]
        [unit]
            type=Arcane Titan
            side=1
            random_traits=no
            animate=no
            x=41
            y=29
            name=
            unrenamable=yes
        [/unit]
        [unit]
            type=Arcane Titan
            side=1
            random_traits=no
            animate=no
            x=45
            y=29
            name=
            unrenamable=yes
        [/unit]
        [unit]
            type=Arcane Titan
            side=1
            random_traits=no
            animate=no
            x=39
            y=30
            name=
            unrenamable=yes
        [/unit]
        [unit]
            type=Arcane Titan
            side=1
            random_traits=no
            animate=no
            x=43
            y=30
            name=
            unrenamable=yes
        [/unit]
        [unit]
            type=Arcane Titan
            side=1
            random_traits=no
            animate=no
            x=41
            y=31
            name=
            unrenamable=yes
        [/unit]
        [unit]
            type=Arcane Titan
            side=1
            random_traits=no
            animate=no
            x=39
            y=32
            name=
            unrenamable=yes
        [/unit]
        [unit]
            type=Arcane Titan
            side=1
            random_traits=no
            animate=no
            x=43
            y=32
            name=
            unrenamable=yes
        [/unit]
#This is just to help separate the different unit types
        [unit]
            type=Flame Titan
            side=1
            random_traits=no
            animate=no
            x=57
            y=28
            name=
            unrenamable=yes
        [/unit]
        [unit]
            type=Flame Titan
            side=1
            random_traits=no
            animate=no
            x=54
            y=29
            name=
            unrenamable=yes
        [/unit]
        [unit]
            type=Flame Titan
            side=1
            random_traits=no
            animate=no
            x=60
            y=29
            name=
            unrenamable=yes
        [/unit]
        [unit]
            type=Flame Titan
            side=1
            random_traits=no
            animate=no
            x=57
            y=30
            name=
            unrenamable=yes
        [/unit]
        [unit]
            type=Flame Titan
            side=1
            random_traits=no
            animate=no
            x=56
            y=30
            name=
            unrenamable=yes
        [/unit]
        [unit]
            type=Flame Titan
            side=1
            random_traits=no
            animate=no
            x=58
            y=30
            name=
            unrenamable=yes
        [/unit]
        [unit]
            type=Flame Titan
            side=1
            random_traits=no
            animate=no
            x=57
            y=31
            name=
            unrenamable=yes
        [/unit]
        [unit]
            type=Flame Titan
            side=1
            random_traits=no
            animate=no
            x=56
            y=31
            name=
            unrenamable=yes
        [/unit]
        [unit]
            type=Flame Titan
            side=1
            random_traits=no
            animate=no
            x=58
            y=31
            name=
            unrenamable=yes
        [/unit]
        [unit]
            type=Flame Titan
            side=1
            random_traits=no
            animate=no
            x=57
            y=32
            name=
            unrenamable=yes
        [/unit]
        [unit]
            type=Flame Titan
            side=1
            random_traits=no
            animate=no
            x=54
            y=32
            name=
            unrenamable=yes
        [/unit]
        [unit]
            type=Flame Titan
            side=1
            random_traits=no
            animate=no
            x=60
            y=32
            name=
            unrenamable=yes
        [/unit]
        [unit]
            type=Flame Titan
            side=1
            random_traits=no
            animate=no
            x=57
            y=34
            name=
            unrenamable=yes
        [/unit]
#Now to the Ice Titans
        [unit]
            type=Ice Titan
            side=1
            random_traits=no
            animate=no
            x=11
            y=12
            name=
            unrenamable=yes
        [/unit]
        [unit]
            type=Ice Titan
            side=1
            random_traits=no
            animate=no
            x=8
            y=13
            name=
            unrenamable=yes
        [/unit]
        [unit]
            type=Ice Titan
            side=1
            random_traits=no
            animate=no
            x=8
            y=16
            name=
            unrenamable=yes
        [/unit]
        [unit]
            type=Ice Titan
            side=1
            random_traits=no
            animate=no
            x=11
            y=18
            name=
            unrenamable=yes
        [/unit]
        [unit]
            type=Ice Titan
            side=1
            random_traits=no
            animate=no
            x=14
            y=16
            name=
            unrenamable=yes
        [/unit]
        [unit]
            type=Ice Titan
            side=1
            random_traits=no
            animate=no
            x=14
            y=13
            name=
            unrenamable=yes
        [/unit]
        [unit]
            type=Ice Titan
            side=1
            random_traits=no
            animate=no
            x=11
            y=14
            name=
            unrenamable=yes
        [/unit]
        [unit]
            type=Ice Titan
            side=1
            random_traits=no
            animate=no
            x=12
            y=14
            name=
            unrenamable=yes
        [/unit]
        [unit]
            type=Ice Titan
            side=1
            random_traits=no
            animate=no
            x=12
            y=15
            name=
            unrenamable=yes
        [/unit]
        [unit]
            type=Ice Titan
            side=1
            random_traits=no
            animate=no
            x=11
            y=16
            name=
            unrenamable=yes
        [/unit]
        [unit]
            type=Ice Titan
            side=1
            random_traits=no
            animate=no
            x=10
            y=15
            name=
            unrenamable=yes
        [/unit]
        [unit]
            type=Ice Titan
            side=1
            random_traits=no
            animate=no
            x=10
            y=14
            name=
            unrenamable=yes
        [/unit]
        [unit]
            type=Ice Titan
            side=1
            random_traits=no
            animate=no
            x=11
            y=15
            name=
            unrenamable=yes
        [/unit]
#Now the Nature Warriors
        [unit]
            type=Nature Warrior
            side=1
            random_traits=no
            animate=no
            x=5
            y=55
            name=
            unrenamable=yes
        [/unit]
        [unit]
            type=Nature Warrior
            side=1
            random_traits=no
            animate=no
            x=7
            y=50
            name=
            unrenamable=yes
        [/unit]
        [unit]
            type=Nature Warrior
            side=1
            random_traits=no
            animate=no
            x=8
            y=52
            name=
            unrenamable=yes
        [/unit]
        [unit]
            type=Nature Warrior
            side=1
            random_traits=no
            animate=no
            x=12
            y=49
            name=
            unrenamable=yes
        [/unit]
        [unit]
            type=Nature Warrior
            side=1
            random_traits=no
            animate=no
            x=12
            y=53
            name=
            unrenamable=yes
        [/unit]
        [unit]
            type=Nature Warrior
            side=1
            random_traits=no
            animate=no
            x=16
            y=50
            name=
            unrenamable=yes
        [/unit]
        [unit]
            type=Nature Warrior
            side=1
            random_traits=no
            animate=no
            x=21
            y=48
            name=
            unrenamable=yes
        [/unit]
        [unit]
            type=Nature Warrior
            side=1
            random_traits=no
            animate=no
            x=21
            y=52
            name=
            unrenamable=yes
        [/unit]
#Earth Warriors
        [unit]
            type=Earth Warrior
            side=1
            random_traits=no
            animate=no
            x=31
            y=50
            name=
            unrenamable=yes
        [/unit]
        [unit]
            type=Earth Warrior
            side=1
            random_traits=no
            animate=no
            x=33
            y=50
            name=
            unrenamable=yes
        [/unit]
        [unit]
            type=Earth Warrior
            side=1
            random_traits=no
            animate=no
            x=30
            y=51
            name=
            unrenamable=yes
        [/unit]
        [unit]
            type=Earth Warrior
            side=1
            random_traits=no
            animate=no
            x=32
            y=51
            name=
            unrenamable=yes
        [/unit]
        [unit]
            type=Earth Warrior
            side=1
            random_traits=no
            animate=no
            x=34
            y=51
            name=
            unrenamable=yes
        [/unit]
        [unit]
            type=Earth Warrior
            side=1
            random_traits=no
            animate=no
            x=31
            y=53
            name=
            unrenamable=yes
        [/unit]
        [unit]
            type=Earth Warrior
            side=1
            random_traits=no
            animate=no
            x=33
            y=53
            name=
            unrenamable=yes
        [/unit]
#Water Warriors
        [unit]
            type=Water Warrior
            side=1
            random_traits=no
            animate=no
            x=57
            y=54
            name=
            unrenamable=yes
        [/unit]
        [unit]
            type=Water Warrior
            side=1
            random_traits=no
            animate=no
            x=55
            y=55
            name=
            unrenamable=yes
        [/unit]
        [unit]
            type=Water Warrior
            side=1
            random_traits=no
            animate=no
            x=59
            y=55
            name=
            unrenamable=yes
        [/unit]
        [unit]
            type=Water Warrior
            side=1
            random_traits=no
            animate=no
            x=57
            y=56
            name=
            unrenamable=yes
        [/unit]
        [unit]
            type=Water Warrior
            side=1
            random_traits=no
            animate=no
            x=55
            y=57
            name=
            unrenamable=yes
        [/unit]
        [unit]
            type=Water Warrior
            side=1
            random_traits=no
            animate=no
            x=59
            y=57
            name=
            unrenamable=yes
        [/unit]
        [unit]
            type=Water Warrior
            side=1
            random_traits=no
            animate=no
            x=57
            y=58
            name=
            unrenamable=yes
        [/unit]
        [message]
            speaker=Insane Hermit
            message= _ "COME AND GET ME NOW COWARDS!!"
        [/message]
        [message]
            speaker=Frecyn
            message= _ "Crap, this doesn't look good."
        [/message]
        [message]
            speaker=Mal-Ravannal
            message= _ "It seems we'll be in worse trouble if he finishes whatever he's doing over there, we should use our strongest forces to push through quickly."
        [/message]
        [message]
            speaker=Elaged
            message= _ "It still scares me how this one mage has created so much down here. We should kill him before he lets these things run loose."
        [/message]
        [message]
            speaker=Bruthart
            message= _ "We can easily pillage this place afterwards, he must have something of value down here."
        [/message]
    [/event]

    [event]
     name=side turn
     first_time_only=no
       [if]
          [variable]
               name=side_number
               equals=1
          [/variable]
          [then]
               {VARIABLE spawn_trigger $turn_number}
               {VARIABLE_OP spawn_trigger modulo 2}
               [if]
                    [variable]
                         name=spawn_trigger
                         equals=0
                    [/variable]
                    [then]
                         [unit]
                            type=Arcane Titan
                            side=1
                            random_traits=no
                            animate=yes
                            x=41
                            y=29
                            name=
                            unrenamable=yes
                         [/unit]
                         [unit]
                            type=Nature Warrior
                            side=1
                            random_traits=no
                            animate=yes
                            x=16
                            y=50
                            name=
                            unrenamable=yes
                         [/unit]
                         [unit]
                            type=Ice Titan
                            side=1
                            random_traits=no
                            animate=no
                            x=11
                            y=15
                            name=
                            unrenamable=yes
                         [/unit]
                         [unit]
                            type=Earth Warrior
                            side=1
                            random_traits=no
                            animate=yes
                            x=32
                            y=51
                            name=
                            unrenamable=yes
                         [/unit]
                         [unit]
                            type=Flame Titan
                            side=1
                            random_traits=no
                            animate=no
                            x=57
                            y=31
                            name=
                            unrenamable=yes
                         [/unit]
                         [unit]
                            type=Water Warrior
                            side=1
                            random_traits=no
                            animate=yes
                            x=57
                            y=56
                            name=
                            unrenamable=yes
                         [/unit]
                    [/then]
               [/if]
               {CLEAR_VARIABLE spawn_trigger}
          [/then]
       [/if]
    [/event]

    [event]
        name=time over
        [message]
            speaker=Insane Hermit
            message= _ "(I should be able to charge the weapon directly now.)  NOW YOU WILL SEE MY TRUE MIGHT!!"
        [/message]    
        [endlevel]
            result=victory
            bonus=no
        [/endlevel]
    [/event]

    [event]
        name=moveto
        [filter]
            [not]
	        side=1
            [/not]            [and]
                x=40
                y=10
                [or]
                    x=40
                    y=9
                [/or]
                [or]
                    x=40
                    y=8
                [/or]
                [or]
                    x=40
                    y=7
                [/or]
                [or]
                    x=40
                    y=5
                [/or]
                [or]
                    x=40
                    y=6
                [/or]
                [or]
                    x=41
                    y=6
                [/or]
                [or]
                    x=42
                    y=6
                [/or]
                [or]
                    x=43
                    y=7
                [/or]
                [or]
                    x=44
                    y=7
                [/or]
                [or]
                    x=45
                    y=8
                [/or]
                [or]
                    x=46
                    y=8
                [/or]
                [or]
                    x=47
                    y=9
                [/or]
                [or]
                    x=47
                    y=10
                [/or]
                [or]
                    x=47
                    y=11
                [/or]
                [or]
                    x=47
                    y=12
                [/or]
                [or]
                    x=47
                    y=13
                [/or]
                [or]
                    x=47
                    y=14
                [/or]
                [or]
                    x=46
                    y=14
                [/or]
                [or]
                    x=45
                    y=15
                [/or]
                [or]
                    x=44
                    y=15
                [/or]
                [or]
                    x=43
                    y=16
                [/or]
                [or]
                    x=42
                    y=16
                [/or]
                [or]
                    x=41
                    y=17
                [/or]
                [or]
                    x=40
                    y=17
                [/or]
                [or]
                    x=39
                    y=17
                [/or]
                [or]
                    x=38
                    y=16
                [/or]
                [or]
                    x=37
                    y=16
                [/or]
                [or]
                    x=36
                    y=15
                [/or]
                [or]
                    x=35
                    y=15
                [/or]
                [or]
                    x=34
                    y=14
                [/or]
                [or]
                    x=33
                    y=13
                [/or]
                [or]
                    x=33
                    y=12
                [/or]
                [or]
                    x=33
                    y=11
                [/or]
                [or]
                    x=33
                    y=10
                [/or]
                [or]
                    x=33
                    y=9
                [/or]
                [or]
                    x=34
                    y=8
                [/or]
                [or]
                    x=35
                    y=8
                [/or]
                [or]
                    x=36
                    y=7
                [/or]
                [or]
                    x=37
                    y=7
                [/or]
                [or]
                    x=38
                    y=6
                [/or]
                [or]
                    x=39
                    y=6
                [/or]
            [/and]
        [/filter]   
        [endlevel]
            result=defeat
        [/endlevel]
    [/event]
[/scenario]
